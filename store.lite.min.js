"use strict";class Store{constructor(a={}){return this._initialized={status:!1},this._ns=["_reflects","_rangedNumbers","_lockeds","_","_initialized"],this._preinitialize(),this.initialize(a)}initialize(a){if(!0===this._initialized.status||!Object.values(a).length)return this;for(let[b,c]of Object.entries(a))this.addVolume(b,c);return this._initialized.status=!0,this._initialized=Object.freeze(this._initialized),this}is(...a){return this._isMarriage(a)}isnt(...a){return!this._isMarriage(a)}addVolume(a,b){const c=a=>{const c=this._filterData({[a]:b});let d=this._typeOf(c[a]);("number"===d||"string"===d||"boolean"===d)&&(this._[a]={value:c[a],type:d},this._accessorify({key:a,valueType:d}))};return this._checkMultyKey({string:a,callbackSingle(a){c(a)},callbackMulty(a){for(let b of a)c(b)}}),this}addReflect(a,b,c=!1){const d=a=>{a in this&&this._isFn(b)&&(this._reflects[a]=b,"boolean"==typeof c&&!0===c&&this._reflect(a,this._[a].value))};return this._checkMultyKey({string:a,callbackSingle(a){d(a)},callbackMulty(a){for(let b of a)d(b)}}),this}removeReflect(a){const b=a=>{delete this._reflects[a]};return this._checkMultyKey({string:a,callbackSingle(a){b(a)},callbackMulty(a){for(let c of a)b(c)}}),this}addRange(a,b,c,d){const e=()=>{if("number"===this._typeOf(this[a])&&Array.isArray(b)&&2===b.length&&b.every(a=>this._isNum(a))){b[1]<b[0]&&b.reverse(),this._rangedNumbers[a]={range:b};let e=this._rangedNumbers[a];this._isFn(c)&&(e.minReflect=c),this._isFn(d)&&(e.maxReflect=d),this._rangedNumbers[a]=Object.freeze(e),this[a]=this._holdInRange(a,this[a])}};return this._checkMultyKey({string:a,callbackSingle(a){e(a)},callbackMulty(a){for(let b of a)e(b)}}),this}removeRange(a){const b=()=>{delete this._rangedNumbers[a]};return this._checkMultyKey({string:a,callbackSingle(a){b(a)},callbackMulty(a){for(let c of a)b(c)}}),this}isRanged(a=""){return this._isFeatured("_rangedNumbers",a)}addLock(a){const b=()=>{!a in this&&!a in this._lockeds||(this._lockeds[a]=!0)};return this._checkMultyKey({string:a,callbackSingle(a){b(a)},callbackMulty(a){for(let c of a)b(c)}}),this}removeLock(a){const b=()=>{delete this._lockeds[a]};return this._checkMultyKey({string:a,callbackSingle(a){b(a)},callbackMulty(a){for(let c of a)b(c)}}),this}isLocked(a=""){return this._isFeatured("_lockeds",a)}exportStore(...a){let b={};for(let[c,d]of Object.entries(this._))b[c]=d.value;if(a.length)for(let c of Object.keys(b))a.includes(c)||delete b[c];return b}_reflect(a,b){let{_reflects:c}=this;a in c&&this._isFn(c[a])&&c[a](b)}_typeOf(a){return Object.prototype.toString.call(a).replace(/^\[object (.+)\]$/,"$1").toLowerCase()}_holdInRange(a,b){let c=this._rangedNumbers[a],[d,e]=c.range,{minReflect:f,maxReflect:g}=c;return b<d?(this._isFn(f)&&f(d),d):b>e?(this._isFn(g)&&g(e),e):b}_isFn(a){return"function"===this._typeOf(a)}_isNum(a){return"number"===this._typeOf(a)&&!isNaN(a)}_isMarriage(a){for(let b of a)if(!!!this[b])return!1;return!0}_isFeatured(a,b){if(!a in this)return!1;for(let c of Object.keys(this[a]))if(c===b)return!0;return!1}_preinitialize(){for(let a of this._ns)this[a]={};return this}_filterData(a={}){for(let b of this._ns)a[b]&&delete a[b];return a}_accessorify(a={}){let{key:b,valueType:c}=a;const d=this;Object.defineProperties(this,{[b]:{get(){return d._[b].value},set(a){let e=d._[b];if(d._typeOf(a)===e.type&&!d.isLocked(b)&&!/object|array/.test(c)&&(d._isNum(a)&&d.isRanged(b)&&(a=d._holdInRange(b,a)),a!==e.value))return e.value=a,d._reflect(b,a),!0}}})}_checkMultyKey(a={}){const{string:b,callbackMulty:c,callbackSingle:d}=a,e=b.trim().split(" ").filter(a=>""!==a);e.length&&(1===e.length&&d(e[0]),1<e.length&&c(e))}}